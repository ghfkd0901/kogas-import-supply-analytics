# main.py
import streamlit as st

# ======================
# 기본 설정
# ======================
st.set_page_config(page_title="도시가스 대시보드", layout="wide")

st.title("도시가스 대시보드")
st.caption("전국 도시가스 데이터 분석 · 한국가스공사 공공데이터 기반")

# ======================
# 데이터 출처 & 사용 방법 (토글)
# ======================
with st.expander("ℹ 데이터 출처 및 사용 방법", expanded=False):
    st.markdown(
        """
### 📌 데이터 출처 (공공데이터포털 · data.go.kr)

이 대시보드는 공공데이터포털(data.go.kr)에 공개된 **한국가스공사** 데이터를 활용합니다.

1. **한국가스공사_한국의 대륙별 천연가스 수입현황**  
   - 링크: https://www.data.go.kr/data/15088508/fileData.do  
   - 내용: 한국의 LNG 수입을 **대륙별(오세아니아, 북아메리카, 중남미, 중동, 아시아, 아프리카, 유럽, 러시아, 기타)** 로 집계한 데이터  
   - 주요 지표:  
     - 단위가격(톤당달러)  
     - 금액(백만달러)  
     - 중량(톤)

2. **한국가스공사_월별 시도별 도시가스 판매현황**  
   - 링크: https://www.data.go.kr/data/15040819/fileData.do  
   - 내용: **월별·시도별** 도시가스 판매량(천 ㎥ 단위) 데이터  
   - 주요 지표:  
     - 연월  
     - 시도별(서울, 경기, 대구, 부산, 광주, 대전, 세종, 울산, 강원, 경북, 경남, 전북, 전남, 충북, 충남, 제주 등) 판매량

---

### 💡 이 대시보드에서 보는 내용

- **대륙별 천연가스 수입 현황 페이지**
  - 대륙별 단위가격(톤당달러) 추이 (꺾은선 그래프)
  - 대륙별 금액/중량 규모 (누적 영역그래프)
  - 시점별 대륙 간 구조 비교 (100% 누적 막대그래프 · 금액/중량 기준)
  - 하단 테이블에서 연월·대륙별 숫자를 사람이 보기 좋은 형식으로 확인

- **월별 시도별 도시가스 판매현황 페이지** (별도 페이지에서 활용)
  - 시도별 월간 판매량 추이
  - 특정 연도/시점 기준으로 시도 간 비교
  - 필요 시 단위 변환(예: 천㎥, 백만㎥ 등)과 추가 집계 가능

---

### 🧭 사용 방법

1. **왼쪽 사이드바**에서 분석하고 싶은 **페이지**를 선택합니다.  
   - 예: `대륙별_천연가스_수입현황`, `시도별_월별_판매현황` 등

2. 각 페이지 상단의 **필터(기간, 수입지역/시도, 단위 선택 등)** 를 조정하면서  
   - 단위가격의 변화  
   - 금액/중량의 전체 규모 추이  
   - 대륙·지역별 비중 구조  
   를 시각적으로 비교할 수 있습니다.

3. **그래프 하단의 데이터 테이블**은  
   - 연월: `YYYY-MM`  
   - 금액/중량: 천단위 콤마  
   - 단위가격: 소수점 1자리  
   로 포맷팅되어 있어, 엑셀·보고서용 숫자 확인에도 활용할 수 있습니다.

> ⚠️ 주의: 이 대시보드는 분석·학습·내부 참고용입니다.  
> 공식 통계나 대외 보고용으로 사용할 경우, 반드시 **공공데이터포털의 원본 데이터와 이용 약관**을 확인해 주세요.
        """
    )

st.divider()

# ======================
# 메인 안내 영역
# ======================
st.subheader("📊 대시보드 메뉴 안내")

st.markdown(
    """
- 왼쪽 사이드바에서 원하는 분석 페이지를 선택하세요.
- 각각의 페이지에서는:
  - 기간 필터(연도/월/일)
  - 지역 또는 대륙 선택
  - 단위 선택(금액, 중량 단위 변환)
  등을 조정하면서 도시가스 관련 지표를 다각도로 살펴볼 수 있습니다.

아래는 예시 페이지 구성입니다 (실제 페이지 이름은 프로젝트 구조에 맞게 조정):

- `대륙별_천연가스_수입현황.py`  
  → 한국의 LNG 수입을 **대륙 기준**으로 분석하는 페이지

- `시도별_월별_판매현황.py`  
  → 국내 도시가스 판매량을 **시도·연월 기준**으로 분석하는 페이지
"""
)
